@import url('https://fonts.googleapis.com/css2?family=Metrophobic&family=Ubuntu+Mono:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;


:root {
  --page: 1728px;
  --gutter: 0px;  
}

@layer utilities {
  .wrapper       { @apply container max-w-page; }
  .wrapper-nopad { @apply container max-w-page px-0;}
  
  
  .page-grid {
    @apply grid grid-cols-12;
  }


  
  .debug-cols::before {
    content: "";
    position: fixed;
    inset: 0;
    margin-inline: auto;
    width: min(100vw, var(--page));
    pointer-events: none;
    z-index: 9999;
    background-image: linear-gradient(
      to right,
      rgba(0,0,0,.08) 0 1px,
      transparent 1px calc(100% / 12)
    );
    background-size: calc(100% / 12) 100%;
    background-position: left top;
  }
}


@layer components {
  .menu-grid { @apply border border-black/40; }
  .menu-row  { @apply grid grid-cols-3 divide-x divide-black/40; }
  .menu-row + .menu-row { @apply border-t border-black/40; }
  .menu-cell { @apply h-12 px-4 flex items-center justify-center text-xs uppercase tracking-wide hover:bg-black hover:text-white transition; }
  #main-nav {
    transition: transform 0.3s ease-in-out, opacity 0.1s ease-in-out;
  }
  /* Spacings */
  .global-padding {
    @apply pl-4 pr-4 py-4;
  }

  .global-padding-sides {
    @apply pl-4 pr-4 ;
  }

  .global-padding-mobile-cards {
    @apply pl-4 pr-4 py-4;
  }


  .global-padding-mobile-tags {
    @apply pl-3 pr-3 py-1;
  }

  /* Hero Typography */
  .hero-headline {
    @apply text-4xl md:text-5xl lg:text-6xl uppercase font-metro leading-tight font-bold;
  }
  
  .hero-description {
    @apply text-2xl md:text-3xl font-metro leading-tight;
  }

  /* Header typography */
  .page-title{
    @apply text-2xl md:text-3xl uppercase font-metro font-bold;
  }

  .post-title{
    @apply text-2xl md:text-[26px]  font-metro font-bold;
  }

  .filter-menu {
    @apply flex flex-row gap-2;
  }
  .filter-menu-items {
    @apply text-base md:text-base uppercase font-metro leading-tight font-light flex items-start hover:bg-hypergreen;
  }

  
  /* Blog Card Typography */
  .card-title-default {
    @apply text-2xl lg:text-xl uppercase font-metro leading-tight font-light flex items-start;
  }
  .card-title {
    @apply text-base md:text-xl uppercase font-metro leading-tight font-light items-start;
  }

  .card-excerpt {
    @apply text-sm md:text-base leading-relaxed;
  }


  
  /* Meta Data */
  .meta-tags {
     @apply flex items-center justify-start gap-4 ;
  }
  .meta-cat {
    @apply text-xs lg:text-sm uppercase tracking-wide font-mono hover:underline font-light ;
  }

  .meta-date {
  @apply text-xs lg:text-sm tracking-wide font-mono font-light ;
  }
  

  /* Backdrops */
  #search-backdrop.active {
    @apply opacity-80 pointer-events-auto;
  }
  
  #menu-backdrop.active {
    @apply opacity-80 pointer-events-auto;
  }


/* Mobile menu title background (below borders) */
  .menu-title-bg {
    @apply relative;
  }

  .menu-title-bg::before {
    content: "";
    @apply absolute bg-hypergreen -z-10;
    inset: 0 0 0.75px 0 ;
  }

  /* Disable the pseudo-element at lg and up */
  @screen lg {
    .menu-title-bg::before {
      content: none;      
      display: none;      
    }
  }
    /* Superscript pour les numéros de série */
  sup {
    font-size: 0.6em;
    font-weight:500;
    padding-left: 2px;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
    top:0.4em;
  }

  .hero-headline sup,
  .post-title sup {
    font-size: 0.5em;

  }

  .card-title sup {
    font-size: 0.5em;
    top:-1em;
  }

  .grid-cols-11 {
    grid-template-columns: repeat(11, minmax(0, 1fr));
  }

  .is-sticky {
    position: relative;
    border: none;              /* important: no real borders */
  }

  /* Left black stroke */
  .is-sticky::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;                 /* full height */
    width: 1px;
    background: #000;
  }

  /* Bottom white stroke */
  .is-sticky::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 1px;
    background: #fff;
  }

  /* The spacer column shouldn't draw anything when sticky */
  #empty-space.is-sticky {
    border: none !important;
  }

  .filter-menu-items {
    @apply text-base md:text-base uppercase font-metro leading-tight font-light flex items-start hover:bg-hypergreen;
  }

  .filter-menu-toggle {
    @apply text-base md:text-base uppercase font-metro leading-tight font-light flex items-start;
  }


  /* ===========================================
    MAGAZINE ARTICLE STYLES
    =========================================== */

  /* Intro */
  .is-style-intro {
      @apply text-lg leading-relaxed font-light mb-24;
  }

  /* Outro */
  .is-style-outro {
      @apply text-lg leading-relaxed mt-24 mb-12;
      @apply lg:ml-[25%] lg:max-w-[75%];
  }

  /* Article body - ALL direct children indented by default */
  .article-body > * {
      @apply lg:ml-[25%] lg:max-w-[75%];
  }

  /* Paragraphs */
  .article-body p {
      @apply text-base tracking-tight mb-6;
  }

  /* Lists */
  .article-body ul,
  .article-body ol {
      @apply mb-6;
  }

  /* Headings */
  .article-body h2,
  .article-body h3,
  .article-body h4 {
      @apply font-bold mb-4 mt-8;
  }

  /* Images */
  .article-body figure {
      @apply my-8;
  }

  .article-body figure img {
      @apply w-full h-auto;
  }

  .article-body figure figcaption {
      @apply text-[11px] font-mono mt-2 text-right;
  }

  /* Blockquotes - FULL WIDTH (override indent) */
  .article-body > blockquote,
  .article-body > figure.wp-block-quote {
      @apply py-16;
      @apply text-2xl lg:text-3xl font-semibold leading-tight;
      margin-left: 0 !important;
      max-width: 100% !important;
  }

  .article-body > blockquote p {
      @apply text-2xl lg:text-3xl font-semibold leading-tight mb-0;
      margin-left: 0 !important;
      max-width: 100% !important;
  }

  /* Blockquotes - FULL WIDTH (override indent) */
  .article-body > blockquote,
  .article-body > figure.wp-block-quote {
      @apply py-16;
      @apply text-2xl lg:text-3xl font-semibold leading-tight;
      margin-left: 0 !important;
      max-width: 100% !important;
  }

  .article-body > blockquote p {
      @apply text-2xl lg:text-3xl font-semibold leading-tight mb-0;
      margin-left: 0 !important;
      max-width: 100% !important;
  }

  /* Share button for blockquotes - positioned below */
  .blockquote-share {
      @apply block mt-6 text-xs uppercase !font-mono tracking-wide text-right;
      @apply px-3 py-2 !font-mono uppercase bg-hypergreen hover:bg-black hover:text-white transition-colors;
      @apply cursor-pointer inline-block;
  }

}

@layer base {
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  nav, ul, header, .wrapper, .wrapper-nopad { 
    margin: 0; 
    padding: 0; 
  }
  /* Fix gutenberg default styling */
  .article-content .wp-block {
    max-width: none;
    margin-left: 0;
    margin-right: 0;
  }
}

/* TEMP debug outlines */
/* * { outline: 1px solid rgba(255,0,0,.12); } */